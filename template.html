<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<style>
:root {
  --primary: #4A90D9;
  --accent: #E8833A;
  --green: #2E9E5A;
  --bg-blue: #EBF4FB;
  --bg-green: #E8F5E9;
  --bg-orange: #FFF8F0;
  --bg-yellow: #FFFDE7;
  --bg-passage: #f9fafb;
  --text-primary: #000;
  --text-secondary: #333;
  --text-muted: #666;
  --border-light: #e5e7eb;
  --border-table: #d1d5db;
  --border-input: #999;
  --border-dotted: #ccc;
  --red: #dc2626;
}
@page { size: A4; margin: 12mm 15mm 12mm 15mm; }
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Noto Sans CJK KR','Noto Sans KR',sans-serif; font-size: 10pt; color: var(--text-primary); line-height: 1.5; -webkit-print-color-adjust: exact; }
.page { page-break-after: always; position: relative; padding-bottom: 16px; }
.page:last-child { page-break-after: avoid; }

/* Header */
.hdr { display:flex; justify-content:space-between; align-items:baseline; padding-bottom:3px; border-bottom:1px solid #ccc; margin-bottom:6px; font-size:9.5pt; }
.hdr-left { font-weight:bold; text-decoration:underline; }
.hdr-right { color:var(--text-secondary); }
.phase { color:var(--primary); font-weight:bold; text-decoration:underline; font-size:10pt; margin-bottom:2px; }
.lnav { display:flex; gap:4px; justify-content:center; margin:4px 0 8px; }
.lb { width:20px; height:20px; border-radius:50%; border:1px solid #ccc; text-align:center; line-height:20px; font-size:8pt; color:var(--text-muted); display:inline-flex; align-items:center; justify-content:center; }
.lb.on { background:var(--primary); color:#fff; border-color:var(--primary); }
.pn { text-align:center; color:var(--primary); font-size:8.5pt; position:absolute; bottom:2px; left:0; right:0; }

/* Section title */
.stitle { font-size:16pt; font-weight:bold; color:var(--primary); border-bottom:3px solid var(--accent); padding-bottom:3px; display:inline-block; margin-bottom:8px; }
.slbl { font-size:8.5pt; color:var(--text-muted); margin-top:6px; letter-spacing:1px; }
.sttl { font-size:11pt; font-weight:bold; text-decoration:underline; margin-bottom:4px; }

/* Checklist */
.ckl { border:2px solid var(--primary); border-radius:8px; background:var(--bg-blue); padding:8px 12px; margin-bottom:8px; font-size:9pt; break-inside:avoid; }
.ckl-t { font-weight:bold; color:var(--primary); font-size:10pt; margin-bottom:3px; }
.ckl table { width:100%; border-collapse:collapse; }
.ckl td { padding:2px 0; }
.ckl .sn { color:var(--accent); font-weight:bold; }
.ckl .cc { text-align:center; width:30px; font-size:7.5pt; color:var(--text-muted); }
.cb { width:12px; height:12px; border:1px solid #999; display:inline-block; }

/* Passage box */
.psg { border:1px solid var(--border-light); border-radius:4px; background:var(--bg-passage); padding:12px 16px; line-height:1.8; font-size:10pt; margin-bottom:6px; break-inside:avoid; }

/* Input lines */
.il { border-bottom:1px solid var(--border-input); min-width:100px; display:inline-block; height:18px; }
.ilf { border-bottom:1px solid var(--border-input); width:100%; display:block; height:20px; margin:3px 0; }
.ild { border-bottom:1px dotted var(--border-dotted); min-width:120px; display:inline-block; height:18px; }

/* Boxes */
.solbox { border:2px solid var(--accent); border-radius:8px; background:var(--bg-orange); padding:10px 14px; margin-top:8px; font-size:9.5pt; break-inside:avoid; }
.warnbox { border:2px solid var(--accent); border-radius:8px; background:var(--bg-orange); padding:10px 14px; margin-top:8px; break-inside:avoid; }
.warnt { color:var(--red); font-weight:bold; font-size:11pt; }
.encbox { border:1px solid var(--accent); border-radius:8px; background:var(--bg-yellow); padding:10px 14px; font-size:9.5pt; margin-top:8px; break-inside:avoid; }
.dashbox { border:2px dashed var(--border-dotted); border-radius:8px; padding:10px 14px; break-inside:avoid; }

/* Grammar */
.grammar-num { font-weight:bold; color:var(--primary); }
.grammar-choice { font-weight:bold; color:var(--accent); }

/* Option rows */
.orow { margin-bottom:8px; font-size:10pt; }
.orow-line { display:flex; align-items:baseline; gap:8px; }
.otxt { flex:0 0 auto; }
.orev { flex:1; color:var(--text-muted); border-bottom:1px dotted var(--border-dotted); font-size:9pt; min-height:16px; }

/* Answer page */
.apage { columns:2; column-gap:18px; font-size:8pt; line-height:1.4; }
.apage .ast { font-weight:bold; color:var(--primary); font-size:9pt; margin-top:6px; margin-bottom:2px; break-after:avoid; }
.apage p { break-inside:avoid; }

/* Cover */
.cv-c { text-align:center; display:flex; flex-direction:column; min-height:calc(273mm - 25mm); }
.cv-l { font-size:28pt; font-weight:bold; margin-top:40px; }
.cv-ch { font-size:18pt; font-weight:bold; color:var(--primary); margin-top:8px; }

/* Utilities */
.b{font-weight:bold}
.mt2{margin-top:2px} .mt4{margin-top:4px} .mt6{margin-top:6px} .mt8{margin-top:8px} .mt10{margin-top:10px} .mt12{margin-top:12px}
.mb2{margin-bottom:2px} .mb4{margin-bottom:4px} .mb6{margin-bottom:6px} .mb8{margin-bottom:8px}
.tc{text-align:center} .tm{color:var(--text-muted)} .ts{font-size:8.5pt}
</style>
</head>
<body>

{% if not levels or 0 in levels %}
{# ==================== PAGE 1: COVER ==================== #}
<div class="page">
  <div class="cv-c">
    <p style="font-size:9pt;color:var(--text-muted);margin-top:4px;margin-left: 10px;text-align:left;">ë ˆë²¨ë¯¸ì—…í•™ì› &nbsp;&nbsp;&nbsp;</p>
    <div class="cv-l">{{ subject }}</div>
    <div style="font-size:18pt;font-weight:bold;color:var(--green);margin-top:8px;">{{ challenge_title }}</div>
    <p style="font-size:10pt;color:var(--text-secondary);margin-top:20px;">ì´ êµì¬ì˜ í•™ìŠµ íë¦„</p>
    <table style="width:80%;margin:16px auto;border-collapse:separate;border-spacing:8px;">
      <tr>
        <td style="width:33%;border:1.5px solid var(--primary);border-radius:8px;padding:12px 8px;text-align:center;vertical-align:top;">
          <p style="font-size:11pt;font-weight:bold;color:var(--primary);margin-bottom:4px;">ìˆ˜ì—… ì „</p>
          <p style="font-size:9pt;"><span style="font-weight:bold;color:var(--primary);">Lv.1</span> ì–´íœ˜ í•™ìŠµ<br><span style="font-weight:bold;color:var(--primary);">Lv.2</span> í•´ì„ ì˜ˆìŠµ</p>
          <p style="font-size:8pt;color:var(--text-muted);margin-top:3px;">ëª¨ë¥´ëŠ” ë‹¨ì–´/ë¬¸ì¥ ë¯¸ë¦¬ ì •ë¦¬</p>
        </td>
        <td style="width:33%;border:1.5px solid var(--green);border-radius:8px;padding:12px 8px;text-align:center;vertical-align:top;">
          <p style="font-size:11pt;font-weight:bold;color:var(--green);margin-bottom:4px;">ìˆ˜ì—… ì¤‘</p>
          <p style="font-size:9pt;"><span style="font-weight:bold;color:var(--green);">Lv.3</span> ë¬¸ì¥ë³„ ë¶„ì„<br><span style="font-weight:bold;color:var(--green);">Lv.4</span> êµ¬ì¡° ì •ë¦¬</p>
          <p style="font-size:8pt;color:var(--text-muted);margin-top:3px;">ë¬¸ë²•/ì£¼ì¥ ì •ë¦¬</p>
        </td>
        <td style="width:33%;border:1.5px solid var(--accent);border-radius:8px;padding:12px 8px;text-align:center;vertical-align:top;">
          <p style="font-size:11pt;font-weight:bold;color:var(--accent);margin-bottom:4px;">ìˆ˜ì—… í›„</p>
          <p style="font-size:9pt;"><span style="font-weight:bold;color:var(--accent);">Lv.5~10</span> ë³µìŠµ ë¬¸ì œ<br>íë¦„/ë¹ˆì¹¸/ì£¼ì œ/ì–´ë²•/<br>ì–´íœ˜/ë‚´ìš© ì¼ì¹˜/ì˜ì‘</p>
          <p style="font-size:8pt;color:var(--text-muted);margin-top:3px;">ì˜¤ë‹µì •ë¦¬ â†’ ê°•ì‚¬ í”¼ë“œë°±</p>
        </td>
      </tr>
    </table>
    <table style="width:70%;margin:16px auto;border-collapse:separate;border-spacing:4px;table-layout:fixed;">
      <tr>
        <td style="width:20%;border:1px solid var(--primary);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--primary);"><span class="b">Lv.1</span><br>ì–´íœ˜</td>
        <td style="width:20%;border:1px solid var(--primary);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--primary);"><span class="b">Lv.2</span><br>í•´ì„</td>
        <td style="width:20%;border:1px solid var(--green);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--green);"><span class="b">Lv.3</span><br>ë¶„ì„</td>
        <td style="width:20%;border:1px solid var(--green);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--green);"><span class="b">Lv.4</span><br>ì •ë¦¬</td>
        <td style="width:20%;border:1px solid var(--accent);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--accent);"><span class="b">Lv.5</span><br>íë¦„</td>
      </tr>
      <tr>
        <td style="border:1px solid var(--accent);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--accent);"><span class="b">Lv.6</span><br>ë¹ˆì¹¸</td>
        <td style="border:1px solid var(--accent);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--accent);"><span class="b">Lv.7</span><br>ì£¼ì œ</td>
        <td style="border:1px solid var(--accent);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--accent);"><span class="b">Lv.8</span><br>ì–´ë²•</td>
        <td style="border:1px solid var(--accent);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--accent);"><span class="b">Lv.9</span><br>ì–´íœ˜+ë‚´ìš©ì¼ì¹˜</td>
        <td style="border:1px solid var(--accent);border-radius:5px;padding:3px 4px;text-align:center;font-size:8pt;color:var(--accent);"><span class="b">Lv.10</span><br>ì˜ì‘</td>
      </tr>
    </table>
    <div class="dashbox" style="max-width:82%;margin: auto auto 20px;">
      <p class="b" style="font-size:10pt;">[ì˜¤ë‹µ ì •ë¦¬ â†’ ê°•ì‚¬ í”¼ë“œë°± ì•ˆë‚´]</p>
      <p style="font-size:9pt;margin-top:3px;">ê° ë¬¸ì œì—ëŠ” <strong>ì˜¤ë‹µ ì •ë¦¬ ì¹¸</strong>ì´ ìˆìŠµë‹ˆë‹¤. í’€ê³  ì±„ì í•œ í›„ ë°˜ë“œì‹œ ì˜¤ë‹µ ì •ë¦¬ë¥¼ ì‘ì„±í•˜ì„¸ìš”.<br>ì‘ì„± í›„ ì‚¬ì§„ì„ ì°ì–´ ì•±ìœ¼ë¡œ ê°•ì‚¬ì—ê²Œ ì „ì†¡í•´ ì£¼ì„¸ìš”. ê°œì¸ë³„ í”¼ë“œë°±ì„ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.</p>
      <div style="max-width:82%;margin:0 auto;">
      </div>
    </div>
    <p style="font-size:10pt;">í•™ìƒ ì´ë¦„: <span class="il" style="min-width:200px;"></span> &nbsp;&nbsp;&nbsp; 
    </p>
    <p>
      ë‚ ì§œ: <span class="il" style="min-width:200px;"></span>
    </p>
  </div>
  <div class="pn">1</div>
</div>

{% endif %}
{% if not levels or 1 in levels %}
{# ==================== PAGE 2: Lv.1 ==================== #}
<div class="page" style="font-size:8.5pt;line-height:1.2;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase">ìˆ˜ì—… ì „</div>
  <div class="lnav"><span class="lb on">1</span>{% for i in range(2,11) %}<span class="lb">{{ i }}</span>{% endfor %}</div>
  <div class="ckl" style="padding:4px 8px;font-size:8pt;">
    <div class="ckl-t" style="font-size:8.5pt;">[ìˆ˜ì—… ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ - Lv.1]</div>
    <table><tr><td></td><td class="cc">1ì°¨</td><td class="cc">2ì°¨</td><td class="cc">3ì°¨</td></tr>
    {% for s in ["Step 1. ì§€ë¬¸ í•µì‹¬ ì–´íœ˜ ì•”ê¸°","Step 2. ì–´íœ˜ í™•ì¸ í…ŒìŠ¤íŠ¸","Step 3. í‹€ë¦° ë‹¨ì–´ ì‚¬ì „ ì°¾ì•„ ì±„ìš°ê¸°"] %}
    <tr><td><span class="sn">{{ s.split('.')[0] }}.</span> {{ s.split('. ',1)[1] }}</td>
    <td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td></tr>{% endfor %}</table>
  </div>
  <p style="padding: 5px;"></p>
  <div style="font-size:13pt;font-weight:bold;color:var(--primary);border-bottom:3px solid var(--accent);padding-bottom:2px;display:inline-block;margin-bottom:4px;">Lv.1 ì§€ë¬¸ í•µì‹¬ ì–´íœ˜</div>
  <p style="font-size:7.5pt;color:var(--text-muted);">STEP 1</p>
  <table style="width:100%;border-collapse:collapse;border:1px solid var(--border-table);font-size:8pt;">
    {% for i in range(0, vocab|length, 2) %}
    <tr>
      <td style="width:28%;padding:2px 4px;border:1px solid var(--border-table);vertical-align:top;"><span style="font-weight:bold;font-size:8.5pt;">{{ vocab[i].word }}</span><br><span style="font-size:6.5pt;color:var(--text-muted);">{{ vocab[i].synonyms }}</span></td>
      <td style="width:22%;padding:2px 4px;border:1px solid var(--border-table);text-align:right;font-size:8.5pt;">{{ vocab[i].meaning }}</td>
      {% if i+1 < vocab|length %}
      <td style="width:28%;padding:2px 4px;border:1px solid var(--border-table);vertical-align:top;"><span style="font-weight:bold;font-size:8.5pt;">{{ vocab[i+1].word }}</span><br><span style="font-size:6.5pt;color:var(--text-muted);">{{ vocab[i+1].synonyms }}</span></td>
      <td style="width:22%;padding:2px 4px;border:1px solid var(--border-table);text-align:right;font-size:8.5pt;">{{ vocab[i+1].meaning }}</td>
      {% else %}<td style="border:1px solid var(--border-table);"></td><td style="border:1px solid var(--border-table);"></td>{% endif %}
    </tr>{% endfor %}
  </table>
  <p style="padding: 5px;"></p>
  <p style="font-size:7.5pt;color:var(--text-muted);margin-top:4px;">STEP 2</p>
  <div style="font-size:10pt;font-weight:bold;margin-bottom:3px;">ì–´íœ˜ í™•ì¸ í…ŒìŠ¤íŠ¸</div>
  <table style="width:100%;font-size:8.5pt;border-collapse:collapse;">
    <tr style="vertical-align:top;">
      <td style="width:33%;padding-right:8px;">
        <p class="b" style="margin-bottom:2px;">A. ëœ» ì“°ê¸°</p>
        {% for w in test_a %}<p style="margin-bottom:2px;">{{ loop.index }}. {{ w }} = <span class="il" style="min-width:60px;"></span></p>{% endfor %}
      </td>
      <td style="width:33%;padding-right:8px;">
        <p class="b" style="margin-bottom:2px;">B. ë™ì˜ì–´ 1ê°œ ì“°ê¸°</p>
        {% for w in test_b %}<p style="margin-bottom:2px;">{{ loop.index }}. {{ w }} = <span class="il" style="min-width:60px;"></span></p>{% endfor %}
      </td>
      <td style="width:33%;">
        <p class="b" style="margin-bottom:2px;">C. ì² ì ì“°ê¸°</p>
        {% for w in test_c %}<p style="margin-bottom:2px;">{{ loop.index }}. {{ w }} = <span class="il" style="min-width:60px;"></span></p>{% endfor %}
      </td>
    </tr>
  </table>
  <p style="padding: 5px;"></p>
  <p style="font-size:7.5pt;color:var(--text-muted);margin-top:4px;">STEP 3</p>
  <div style="font-size:10pt;font-weight:bold;margin-bottom:3px;">D. í‹€ë¦° ë‹¨ì–´ ì‚¬ì „ ì°¾ì•„ ì±„ìš°ê¸°</div>
  <table style="width:100%;border-collapse:separate;border-spacing:3px;font-size:7pt;line-height:1.15;">
    {% for row in range(2) %}
    <tr>
      {% for col in range(3) %}
      <td style="width:33%;border:1px solid var(--border-table);border-radius:3px;padding:2px 4px;vertical-align:top;">
        <p><span style="color:var(--accent);font-weight:bold;">ë‹¨ì–´:</span> <span class="il" style="min-width:45px;height:10px;"></span></p>
        <p><b>ëœ»</b> 1.<span class="il" style="min-width:35px;height:10px;"></span> 2.<span class="il" style="min-width:35px;height:10px;"></span> 3.<span class="il" style="min-width:35px;height:10px;"></span></p>
        <p><b>ì˜ˆë¬¸</b> <span class="il" style="min-width:70px;height:10px;"></span></p>
        <p><b>ì˜ì–´ í•œê¸€ 5íšŒ</b></p>
        <p>1.<span class="il" style="min-width:35px;height:10px;"></span>=<span class="il" style="min-width:35px;height:10px;"></span> 2.<span class="il" style="min-width:35px;height:10px;"></span>=<span class="il" style="min-width:35px;height:10px;"></span></p>
        <p>3.<span class="il" style="min-width:35px;height:10px;"></span>=<span class="il" style="min-width:35px;height:10px;"></span> 4.<span class="il" style="min-width:35px;height:10px;"></span>=<span class="il" style="min-width:35px;height:10px;"></span></p>
        <p>5.<span class="il" style="min-width:35px;height:10px;"></span>=<span class="il" style="min-width:35px;height:10px;"></span></p>
      </td>
      {% endfor %}
    </tr>
    {% endfor %}
  </table>
  <div class="pn">2</div>
</div>

{% endif %}
{% if not levels or 2 in levels %}
{# ==================== PAGE 3: Lv.2 ==================== #}
<div class="page" style="font-size:9.5pt;line-height:1.4;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase">ìˆ˜ì—… ì „</div>
  <div class="lnav"><span class="lb">1</span><span class="lb on">2</span>{% for i in range(3,11) %}<span class="lb">{{ i }}</span>{% endfor %}</div>
  <div class="ckl" style="padding:6px 10px;font-size:8.5pt;">
    <div class="ckl-t" style="font-size:9pt;">[ìˆ˜ì—… ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ - Lv.2]</div>
    <table><tr><td></td><td class="cc">1ì°¨</td><td class="cc">2ì°¨</td><td class="cc">3ì°¨</td></tr>
    {% for s in ["Step 1. Lv.1 ì–´íœ˜ë¥¼ ëª¨ë‘ ì™¸ìš°ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí–ˆë‹¤","Step 2. ì•„ë˜ ì§€ë¬¸ì„ ìŠ¤ìŠ¤ë¡œ í•´ì„í•´ ë³´ì•˜ë‹¤","Step 3. ëª¨ë¥´ëŠ” ë‹¨ì–´ì— í˜•ê´‘íœ ì¹ í•˜ê³  ì•„ë˜ì— ì •ë¦¬","Step 4. í•´ì„ ì•ˆ ë˜ëŠ” ë¬¸ì¥ì— â˜…ë³„í‘œ í›„ ì‚¬ì§„ ì—…ë¡œë“œ"] %}
    <tr><td><span class="sn">{{ s.split('.')[0] }}.</span> {{ s.split('. ',1)[1] }}</td>
    <td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td></tr>{% endfor %}</table>
    <p style="font-size:7.5pt;color:var(--text-muted);margin-top:2px;">â˜…ë³„í‘œ ë¬¸ì¥ì€ ìˆ˜ì—… ì‹œê°„ì— ê°•ì‚¬ê°€ ìš°ì„  ì„¤ëª…í•©ë‹ˆë‹¤. ë°˜ë“œì‹œ ë¯¸ë¦¬ ë³´ë‚´ì£¼ì„¸ìš”!</p>
  </div>
  <p style="padding: 5px;"></p>
  <div class="stitle" style="font-size:15pt;">Lv.2 í•´ì„ ì˜ˆìŠµ</div>
  <p style="font-size:8.5pt;color:var(--text-muted);margin-bottom:3px;">â€» ëª¨ë¥´ëŠ” ë‹¨ì–´ â†’ í˜•ê´‘íœ / í•´ì„ ì•ˆ ë˜ëŠ” ë¬¸ì¥ â†’ â˜…í‘œì‹œ</p>
  <div class="psg" style="font-size:9.5pt;line-height:1.75;">{{ passage }}</div>
  <div style="margin-top:8px;border-top:1px solid var(--border-light);padding-top:6px;">
    <p style="padding: 5px;"></p>
    <p class="b" style="font-size:10pt;margin-bottom:2px;">í˜•ê´‘ì¹œ ë‹¨ì–´ ì‚¬ì „ê²€ìƒ‰ í›„ ì •ë¦¬í•˜ê¸°</p>
    <p style="font-size:8pt;color:var(--text-muted);margin-bottom:4px;"><span class="b">Step 1.</span> í˜•ê´‘ ì¹œ ë‹¨ì–´ ì˜®ê²¨ ì ê¸° â†’ <span class="b">Step 2.</span> ì‚¬ì „ ê²€ìƒ‰ í›„ ëœ»/ë™ì˜ì–´ ì •ë¦¬</p>
    <table style="width:100%;border-collapse:separate;border-spacing:4px;font-size:8pt;line-height:1.3;">
      {% for row in range(4) %}
      <tr>
        {% for col in range(2) %}
        <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:3px 6px;vertical-align:top;">
          <p><span style="color:var(--accent);font-weight:bold;">ë‹¨ì–´:</span> <span class="il" style="min-width:70px;height:13px;"></span></p>
          <p><b>ëœ»</b> &nbsp; 1.<span class="il" style="min-width:100px;height:17px;"></span> &nbsp; 2.<span class="il" style="min-width:100px;height:17px;"></span> &nbsp; 3.<span class="il" style="min-width:100px;height:17px;"></span></p>
          <p><b>ë™ì˜ì–´</b> 1.<span class="il" style="min-width:100px;height:17px;"></span> &nbsp; 2.<span class="il" style="min-width:100px;height:17px;"></span> &nbsp; 3.<span class="il" style="min-width:100px;height:17px;"></span></p>
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </table>
  </div>
  <p style="padding: 5px;"></p>
  <p class="b mt6" style="font-size:10pt;">â–¼ í•´ì„ í™•ì¸ (ìŠ¤ìŠ¤ë¡œ í•´ì„ í›„ ë¹„êµ)</p>
  <p style="font-size:8.5pt;line-height:1.5;margin-top:3px;color:var(--text-secondary);">{{ translation }}</p>
  <div class="pn">3</div>
</div>

{% endif %}
{% if not levels or 3 in levels %}
{# ==================== PAGE 4: Lv.3 ==================== #}
<div class="page" style="font-size:10pt;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--green);">ìˆ˜ì—… ì¤‘</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==3 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="ckl">
    <div class="ckl-t">[ìˆ˜ì—… ì¤‘ ì²´í¬ë¦¬ìŠ¤íŠ¸ - Lv.3]</div>
    <table><tr><td></td><td class="cc">1ì°¨</td><td class="cc">2ì°¨</td><td class="cc">3ì°¨</td></tr>
    {% for s in ["Step 1. í•´ì„ â€” ë‹¨ì–´+ë¬¸ë²•ìœ¼ë¡œ ì •í™•í•˜ê²Œ í•´ì„í•˜ê¸°","Step 2. ì´í•´ â€” ë‚˜ë§Œì˜ ì˜ˆì‹œë¡œ ë¬¸ì¥ ë‚´ìš© í™•ì‹¤íˆ ì´í•´í•˜ê¸°","Step 3. ì¶”ë¡  â€” ë‹¤ìŒì— ë‚˜ì˜¬ ë‚´ìš© ì˜ˆì¸¡ â†’ ë‹¤ìŒ ë¬¸ì¥ì—ì„œ í™•ì¸","Step 4. ë°˜ë³µ â€” ëª¨ë“  ë¬¸ì¥ì— í•´ì„â†’ì´í•´â†’ì¶”ë¡  ë°˜ë³µ"] %}
    <tr><td><span class="sn">{{ s.split('.')[0] }}.</span> {{ s.split('. ',1)[1] }}</td>
    <td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td></tr>{% endfor %}</table>
  </div>
  <div class="stitle">Lv.3 ë¬¸ì¥ë³„ ë¶„ì„</div>
  <p style="padding: 5px;"></p>
  <p class="slbl">STEP 1</p>
  <p style="font-size:9pt;margin-bottom:8px;">ë¬¸ì¥ì˜ ê¸°ë³¸ êµ¬ì„±ìš”ì†Œ(S/V/O/C)ë¥¼ í‘œì‹œí•œ í›„, ìˆ˜ì—…ì„ ë“¤ìœ¼ë©° ì¤‘ìš”í•œ í‘œí˜„ì„ í•„ê¸°í•˜ì‹œì˜¤.</p>
  {% for sent in sentences %}
  <p style="margin-bottom:28px;font-size:10pt;break-inside:avoid;"><strong>{{ loop.index }}.</strong> {{ sent }}</p>
  {% endfor %}
  <div style="border:1px solid var(--border-light);border-radius:4px;padding:10px 14px;margin-top:12px;min-height:140px;break-inside:avoid;">
    <p style="font-size:10pt;font-weight:bold;color:var(--primary);margin-bottom:8px;">ì‹œí—˜ ì¶œì œ ê°€ëŠ¥ ì£¼ìš” ë¬¸ë²• í‘œí˜„ ì •ë¦¬</p>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
  </div>
  <div class="pn">4</div>
</div>

{% endif %}
{% if not levels or 4 in levels %}
{# ==================== PAGE 5: Lv.4 ==================== #}
<div class="page" style="font-size:10pt;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--green);">ìˆ˜ì—… ì¤‘</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==4 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="ckl">
    <div class="ckl-t">[ìˆ˜ì—… ì¤‘ ì²´í¬ë¦¬ìŠ¤íŠ¸ - Lv.4]</div>
    <table><tr><td></td><td class="cc">1ì°¨</td><td class="cc">2ì°¨</td><td class="cc">3ì°¨</td></tr>
    {% for s in ["Step 1. í•´ì„ ì ê²€ â€” ì§€ë¬¸ì—ì„œ ë°°ìš´ ë¬¸ë²•/êµ¬ë¬¸ í™•ì¸ ë° í•´ì„ ì ê²€","Step 2. ì£¼ì¥/ìš”ì§€ â€” ê¸€ ì „ì²´ì˜ ì£¼ì¥/ìš”ì§€ë¥¼ ì§ì ‘ ì ê¸°","Step 3. ìƒê¸°+êµ¬ì¡°í™” â€” ê¸€ ì²˜ìŒ~ë ë– ì˜¬ë¦¬ë©° ë‚˜ë§Œì˜ íë¦„ ì •ë¦¬"] %}
    <tr><td><span class="sn">{{ s.split('.')[0] }}.</span> {{ s.split('. ',1)[1] }}</td>
    <td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td></tr>{% endfor %}</table>
  </div>
  <p style="padding: 5px;"></p>
  <div class="stitle">Lv.4 êµ¬ì¡° ì •ë¦¬ / ì¬í•´ì„ / ì£¼ì¥ ì“°ê¸°</div>
  <p style="padding: 5px;"></p>
  <p class="slbl">STEP 1</p>
  <p class="sttl">ì§€ë¬¸ì—ì„œ ë°°ìš´ ë¬¸ë²•/êµ¬ë¬¸ í™•ì¸ ë° í•´ì„ ì ê²€</p>
  <div class="psg" style="font-size:9.5pt;">{{ passage }}</div>
  <p style="padding: 5px;"></p>
  <p class="slbl mt8">STEP 2</p>
  <p class="sttl">ê¸€ì˜ ì£¼ì¥ì„ ì§ì ‘ ì“°ê¸°</p>
  <div style="border:1px solid var(--border-light);border-radius:4px;padding:10px 14px;margin-bottom:8px;">
    <p>í•œêµ­ì–´:</p><div class="ilf" style="height:22px;"></div>
    <p class="mt4">ì˜ì–´:</p><div class="ilf" style="height:22px;"></div>
  </div>
  <p style="padding: 5px;"></p>
  <p class="slbl mt8">STEP 3</p>
  <p class="sttl">ë‚˜ë§Œì˜ íë¦„ êµ¬ì¡°í™” í•˜ê¸°</p>
  <div style="border:1px solid var(--border-light);border-radius:4px;padding:10px 14px;min-height:200px;">
    <p style="font-size:9pt;color:var(--text-muted);">ììœ ë¡­ê²Œ ê¸€ì˜ íë¦„ì„ ë‚˜ë§Œì˜ ë°©ì‹ìœ¼ë¡œ ì •ë¦¬í•˜ì„¸ìš”. (ê·¸ë¦¼, í™”ì‚´í‘œ, ë§ˆì¸ë“œë§µ, ë©”ëª¨ ë“± ììœ  í˜•ì‹)</p>
  </div>
  <div class="pn">5</div>
</div>

{% endif %}
{% if not levels or 5 in levels %}
{# ==================== PAGE 6: Lv.5 ìˆœì„œ+ì‚½ì… ==================== #}
<div class="page" style="font-size:8.5pt;line-height:1.25;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„ (ë³µìŠµ)</div>
  <p style="font-size:9pt;text-align:center;color:var(--accent);font-weight:bold;margin:3px 0;">ì—¬ê¸°ì„œë¶€í„° ë³µìŠµì…ë‹ˆë‹¤!</p>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==5 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="ckl" style="padding:4px 8px;font-size:7.5pt;">
    <div class="ckl-t" style="font-size:8pt;">[ìˆ˜ì—… í›„ ë³µìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸]</div>
    <table><tr><td></td><td class="cc">1ì°¨</td><td class="cc">2ì°¨</td><td class="cc">3ì°¨</td></tr>
    {% for s in ["Lv.5 ê¸€ì˜ íë¦„","Lv.6 ë¹ˆì¹¸ ì¶”ë¡ ","Lv.7 ì£¼ì œ ì°¾ê¸°","Lv.8 ì–´ë²•","Lv.9 ì–´íœ˜+ë‚´ìš©ì¼ì¹˜","Lv.10 ì˜ì‘"] %}
    <tr><td>{{ s }}</td><td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td><td class="cc"><span class="cb"></span></td></tr>{% endfor %}</table>
  </div>
  <div class="stitle" style="font-size:13pt;">Lv.5 ê¸€ì˜ íë¦„ (ìˆœì„œ + ì‚½ì…)</div>
  <p style="padding: 5px;"></p>
  <p style="font-size:7.5pt;color:var(--text-muted);margin-bottom:3px;"><span class="b">[ëª©ì ]</span> ê¸€ì˜ ì „ë°˜ì  íë¦„ ì´í•´. í•™êµ ì‹œí—˜ 2~4ë¬¸ì œ ë°˜ë“œì‹œ ì¶œì œ!</p>
  <p class="b mb2" style="font-size:9pt;">A. ìˆœì„œ ë°°ì—´</p>
  <p style="font-size:8pt;margin-bottom:2px;">ì£¼ì–´ì§„ ë¬¸ì¥ ë‹¤ìŒì— ì´ì–´ì§ˆ ê¸€ì˜ ìˆœì„œë¥¼ ê³ ë¥´ì‹œì˜¤.</p>
  <div class="psg" style="font-size:8pt;padding:5px 8px;line-height:1.45;">{{ order_intro }}</div>
  <div style="font-size:8pt;line-height:1.4;margin:3px 0;">
    {% for label, text in order_paragraphs %}<p style="margin-bottom:2px;"><strong>({{ label }})</strong> {{ text }}</p>{% endfor %}
  </div>
  <p style="padding: 1.5px;"></p>
  <p style="font-size:8.5pt;margin:3px 0;">{% for opt in order_choices %}{{ opt }} &nbsp;{% endfor %}</p>
  <table style="width:100%;border-collapse:collapse;font-size:8pt;margin:3px 0;border:1px solid var(--border-light);">
    <tr><td style="width:35px;padding:2px 4px;border:1px solid var(--border-light);font-weight:bold;">1ì°¨</td><td style="padding:2px 4px;border:1px solid var(--border-light);color:var(--text-muted);">ë©”ëª¨:</td></tr>
    <tr><td style="padding:2px 4px;border:1px solid var(--border-light);font-weight:bold;">2ì°¨</td><td style="padding:2px 4px;border:1px solid var(--border-light);color:var(--text-muted);">ë©”ëª¨:</td></tr>
  </table>
  <p style="padding: 5px;"></p>
  <p class="b mt4 mb2" style="font-size:9pt;">B. ë¬¸ì¥ ì‚½ì…</p>
  <p style="font-size:8pt;margin-bottom:2px;">ì£¼ì–´ì§„ ë¬¸ì¥ì´ ë“¤ì–´ê°€ê¸°ì— ê°€ì¥ ì ì ˆí•œ ê³³ì„ ê³ ë¥´ì‹œì˜¤.</p>
  <div class="psg" style="font-size:8pt;padding:4px 8px;background:#eee;border:1px solid #ccc;line-height:1.45;">{{ insert_sentence }}</div>
  <div class="psg" style="font-size:8pt;padding:5px 8px;margin-top:2px;line-height:1.45;">{{ insert_passage }}</div>
  <table style="width:100%;border-collapse:collapse;font-size:8pt;margin:3px 0;border:1px solid var(--border-light);">
    <tr><td style="width:35px;padding:2px 4px;border:1px solid var(--border-light);font-weight:bold;">1ì°¨</td><td style="padding:2px 4px;border:1px solid var(--border-light);color:var(--text-muted);">ë©”ëª¨:</td></tr>
    <tr><td style="padding:2px 4px;border:1px solid var(--border-light);font-weight:bold;">2ì°¨</td><td style="padding:2px 4px;border:1px solid var(--border-light);color:var(--text-muted);">ë©”ëª¨:</td></tr>
  </table>
  <p style="padding: 5px;"></p>
  <div class="warnbox" style="margin-top:4px;padding:6px 10px;">
    <p class="warnt" style="font-size:10pt;">!! WARNING - YOU DIED</p>
    <p style="font-size:8pt;margin-top:2px;">ìˆœì„œ/ì‚½ì…ì„ í‹€ë ¸ë‹¤ë©´, <span class="b">Lv.4 êµ¬ì¡° ì •ë¦¬</span>ê°€ ì•„ì§ ì™„ì „í•˜ì§€ ì•Šë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. <strong>Lv.4ë¡œ ëŒì•„ê°€ì„¸ìš”.</strong></p>
  </div>
  <div class="pn">6</div>
</div>

{# ==================== PAGE 7: Lv.5 ì‹¬í™” ==================== #}
<div class="page" style="font-size:9.5pt;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„ (ë³µìŠµ)</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==5 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:15pt;">Lv.5 ì „ì²´ ë¬¸ì¥ ìˆœì„œ ë°°ì—´ (ì‹¬í™”)</div>
  <p style="padding: 2.5px;"></p>
  <p style="font-size:8.5pt;color:var(--text-muted);margin-bottom:8px;"><span class="b">[ëª©ì ]</span> ì§€ë¬¸ì˜ ëª¨ë“  ë¬¸ì¥ì„ ì •í™•í•œ ìˆœì„œë¡œ ë°°ì—´í•˜ì—¬ ê¸€ì˜ íë¦„ì„ ì™„ë²½íˆ ì²´í™”í•©ë‹ˆë‹¤.</p>
  <table style="width:100%;border-collapse:separate;border-spacing:4px;font-size:8.5pt;">
    {% for i in range(0, full_order_blocks|length, 2) %}
    <tr>
      <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:5px 8px;vertical-align:top;"><strong>({{ full_order_blocks[i][0] }})</strong> {{ full_order_blocks[i][1] }}</td>
      {% if i+1 < full_order_blocks|length %}
      <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:5px 8px;vertical-align:top;"><strong>({{ full_order_blocks[i+1][0] }})</strong> {{ full_order_blocks[i+1][1] }}</td>
      {% else %}<td></td>{% endif %}
    </tr>{% endfor %}
  </table>
  <p class="mt8 tc b" style="font-size:10pt;margin-top: 10px;">{% for _ in full_order_blocks %}( &nbsp;&nbsp; ){% if not loop.last %} - {% endif %}{% endfor %}</p>
  <div class="warnbox" style="margin-top:10px;padding:6px 10px;">
    <p style="font-size:8.5pt;color:var(--accent);">â€¢ ìˆœì„œë¥¼ í‹€ë ¸ë‹¤ë©´ â†’ <span style="color:var(--primary);font-weight:bold;">ì•„ë˜ ì˜¤ë‹µì •ë¦¬ë¥¼ ë°˜ë“œì‹œ ì‘ì„±í•œ ë’¤</span>, Lv.4ë¡œ ëŒì•„ê°€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë”°ë¼ ì¬í•™ìŠµí•˜ì‹œì˜¤.</p>
  </div>
  <p style="padding: 5px;"></p>
  <p class="b mt8 mb4" style="font-size:10pt;color:var(--accent);">ì˜¤ë‹µ ì •ë¦¬ â€” ì •ë‹µ ìˆœì„œëŒ€ë¡œ í•œ ì¤„ ìš”ì•½</p>
  <p style="font-size:8pt;color:var(--text-muted);margin-bottom:4px;">í‹€ë¦° ê²½ìš°, ì •ë‹µ ìˆœì„œì˜ ê¸°í˜¸ë¥¼ ì™¼ìª½ì— ì ê³  â†’ ì˜¤ë¥¸ìª½ì— ê·¸ ë¬¸ì¥ ë‚´ìš©ì„ í•œêµ­ë§ë¡œ í•œ ì¤„ ìš”ì•½í•˜ì„¸ìš”.</p>
  {% for _ in full_order_blocks %}
  <p style="font-size:9pt;margin-bottom:5px;">( &nbsp;&nbsp; ) : <span class="il" style="min-width:320px;"></span></p>{% endfor %}
  <p style="padding: 2.5px;"></p>
  <div class="solbox mt8" style="border-radius:4px;padding:10px 14px;margin-top:12px;min-height:140px;break-inside:avoid;">
    <p style="font-size:10pt;font-weight:bold;color:var(--primary);margin-bottom:8px;">ğŸ“Œ ìˆœì„œë°°ì—´ ì†”ë£¨ì…˜ ( ìŠ¤ìŠ¤ë¡œ ë°©ë²• ì •ë¦¬ )</p>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
    <div style="border-bottom:1px dashed var(--border-dotted);height:22px;margin-bottom:0;"></div>
  </div>
  <div class="pn">7</div>
</div>

{% endif %}
{% if not levels or 6 in levels %}
{# ==================== PAGE 8: Lv.6 ë¹ˆì¹¸ ==================== #}
<div class="page" style="font-size:9pt;line-height:1.25;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==6 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:12pt;">Lv.6 ë¹ˆì¹¸ ì¶”ë¡  (ëª¨ë‘ ê³ ë¥´ì‹œì˜¤)</div>
  <p style="padding: 5px;"></p>
  <p style="font-size:8pt;color:var(--primary);font-weight:bold;margin-bottom:4px;">[í•µì‹¬] ì›ë¬¸ í‘œí˜„ì´ <span style="text-decoration:underline;">ë™ì˜ì–´ë¡œ ë³€í˜•</span>ë˜ì–´ ì¶œì œ. ë™ì˜ì–´ ì •ë¦¬ê°€ í•µì‹¬!</p>
  <div class="psg" style="font-size:8.5pt;line-height:1.45;padding:6px 8px;">{{ blank_passage }}</div>
  <p style="padding: 5px;"></p>
  <p class="slbl" style="font-size:8pt;">STEP 1</p>
  <p class="sttl" style="font-size:8.5pt;">ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ë‚´ìš©ì„ ìš°ë¦¬ë§ë¡œ ì ê¸°</p>
  <div style="border:1px solid var(--border-light);border-radius:3px;padding:4px 8px;margin-bottom:4px;">
    <p style="font-size:8.5pt;">ë¹ˆì¹¸ ìš°ë¦¬ë§: <span class="il" style="min-width:260px;"></span></p>
  </div>
  <p style="padding: 5px;"></p>
  <p class="slbl" style="font-size:8pt;">STEP 2</p>
  <p class="sttl" style="font-size:8.5pt;">ê·¸ ë‚´ìš©ê³¼ ê°™ì€ ì„ ì§€ ì°¾ê¸° (ê´€ê·¼ ë™ì˜ì–´ + <span style="color:var(--accent);">ë¹„ìœ ì  í‘œí˜„</span> ì£¼ì˜!)</p>
  {% for opt in blank_options %}
  <div style="display:flex;justify-content:space-between;align-items:baseline;margin-bottom:2px;font-size:8.5pt;line-height:1.35;">
    <span style="flex-shrink:0;">{{ opt }}</span>
    <span style="flex-shrink:0;color:var(--text-muted);font-size:7.5pt;margin-left:8px;white-space:nowrap;">â†’ ì˜¤ë‹µì •ë¦¬: <span class="ild" style="min-width:100px;"></span></span>
  </div>{% endfor %}
  <p style="margin-top:4px;">ë‹µ: <span class="il" style="min-width:250px;"></span></p>
  <p style="padding: 5px;"></p>
  <div class="solbox" style="padding:5px 8px;font-size:8pt;">
    <p class="b">[ë¹ˆì¹¸ ìœ í˜• ì†”ë£¨ì…˜]</p>
    <p><span style="color:var(--accent);font-weight:bold;">Step 1.</span> ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ë‚´ìš©ì„ ìš°ë¦¬ë§ë¡œ ì ê¸° â†’ ë¹ˆì¹¸ ìš°ë¦¬ë§:</p>
    <p><span style="color:var(--accent);font-weight:bold;">Step 2.</span> ê·¸ ë‚´ìš©ê³¼ ê°™ì€ ì„ ì§€ ì°¾ê¸° (ê´€ê·¼ ë™ì˜ì–´ + <span class="b">ë¹„ìœ ì  í‘œí˜„</span> ì£¼ì˜!)</p>
    <p><span style="color:var(--accent);font-weight:bold;">Step 3.</span> í‹€ë¦° ì„ ì§€ <u>ë‹¨ì–´ ì •ë¦¬</u> <strong>ê¼­</strong> í•  ê²ƒ.</p>
    <p style="margin-top:2px;">â€¢ ì›ë¬¸ ë‹¨ì–´: <span class="il" style="min-width:100px;"></span> (í˜•ê´‘ ì²´í¬) / ì„ ì§€ì˜ ê°™ì€ ì˜ë¯¸ í‘œí˜„: ê°™ì€ í˜•ê´‘íœìœ¼ë¡œ ì²´í¬!</p>
  </div>
  <div class="pn">8</div>
</div>

{% endif %}
{% if not levels or 7 in levels %}
{# ==================== PAGE 9: Lv.7 ì£¼ì œ ==================== #}
<div class="page" style="font-size:9pt;line-height:1.25;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==7 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:12pt;">Lv.7 ì£¼ì œ ì°¾ê¸° (ëª¨ë‘ ê³ ë¥´ì‹œì˜¤)</div>
  <p style="padding: 5px;"></p>
  <p style="font-size:8pt;color:var(--primary);font-weight:bold;margin-bottom:4px;">[í•µì‹¬] ì£¼ì œë¬¸ í‚¤ì›Œë“œê°€ ë™ì˜ì–´ë¡œ ë°”ë€Œì–´ ì¶œì œ. ì •í™•í•œ ë‚´ìš© ì´í•´ + ë™ì˜ì–´ íŒŒì•…!</p>
  <div class="psg" style="font-size:8.5pt;line-height:1.45;padding:6px 8px;">{{ topic_passage }}</div>
  <p style="padding: 5px;"></p>
  <p class="slbl" style="font-size:8pt;">STEP 1</p>
  <p style="font-size:8.5pt;margin-bottom:3px;">ì§€ë¬¸ ë‚´ <span class="b">ì£¼ì œë¬¸ì„ ë‹¤ì‹œ í˜•ê´‘</span> ì¹˜ê¸° / ë³¸ì¸ì´ ìƒê°í•˜ëŠ” ì£¼ì œë¬¸ ì§ì ‘ ì“°ê¸°</p>
  <div style="border:1px solid var(--border-light);border-radius:3px;padding:4px 8px;margin-bottom:4px;">
    <p style="font-size:8.5pt;">ì£¼ì œë¬¸ ì§ì ‘ ì“°ê¸°: <span class="il" style="min-width:280px;"></span></p>
  </div>
  <p style="padding: 5px;"></p>
  <p class="slbl" style="font-size:8pt;">STEP 2</p>
  <p style="font-size:8.5pt;margin-bottom:3px;">ê·¸ ë‚´ìš©ê³¼ ê°€ì¥ ìœ ì‚¬í•œ <span class="b">ë¹„ìœ ì /ë¬¸ë§¥ì  ë‚´ìš©</span> ì°¾ê¸°</p>
  {% for opt in topic_options %}
  <div style="display:flex;justify-content:space-between;align-items:baseline;margin-bottom:2px;font-size:8.5pt;line-height:1.35;">
    <span style="flex-shrink:0;">{{ opt }}</span>
    <span style="flex-shrink:0;color:var(--text-muted);font-size:7.5pt;margin-left:8px;white-space:nowrap;">â†’ ì˜¤ë‹µì •ë¦¬: <span class="ild" style="min-width:100px;"></span></span>
  </div>{% endfor %}
  <p style="margin-top:4px;">ë‹µ: <span class="il" style="min-width:250px;"></span></p>
  <p style="padding: 5px;"></p>
  <div class="solbox" style="padding:5px 8px;font-size:8pt;">
    <p class="b">[ì£¼ì œ ì°¾ê¸° ì†”ë£¨ì…˜]</p>
    <p><span style="color:var(--accent);font-weight:bold;">Step 1.</span> ì§€ë¬¸ ë‚´ <span class="b">ì£¼ì œë¬¸ì„ ë‹¤ì‹œ í˜•ê´‘</span> ì¹˜ê¸° / ë³¸ì¸ì´ ìƒê°í•˜ëŠ” ì£¼ì œë¬¸ ì§ì ‘ ì“°ê¸°</p>
    <p><span style="color:var(--accent);font-weight:bold;">Step 2.</span> ê·¸ ë‚´ìš©ê³¼ ê°€ì¥ ìœ ì‚¬í•œ <span class="b">ë¹„ìœ ì /ë¬¸ë§¥ì  ë‚´ìš©</span> ì°¾ê¸°</p>
    <p style="color:var(--red);margin-top:2px;">âš  ì£¼ì œë¬¸ ì„ ì§€ì—ì„œ <span class="b">ì¶”ë¡ ì  ì‚¬ê³  ê¸ˆì§€!</span> ê¸€ì—ì„œ <span class="b">ì–¸ê¸‰ë˜ì§€ ì•Šì€ ë‚´ìš©ì€ ì˜¤ë‹µ</span></p>
  </div>
  <div class="pn">9</div>
</div>

{% endif %}
{% if not levels or 8 in levels %}
{# ==================== PAGE 10: Lv.8-1 ==================== #}
<div class="page" style="font-size:9pt;line-height:1.25;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==8 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:13pt;">Lv.8-1 ì–´ë²• (ê´„í˜¸ ì† ì˜¬ë°”ë¥¸ í‘œí˜„ ê³ ë¥´ê¸°)</div>
  <p style="padding: 5px;"></p>
  <p class="slbl">STEP 1</p>
  <p style="font-size:8.5pt;margin-bottom:3px;">ê¸°ë³¸ì ì¸ ë¬¸ì¥êµ¬ì¡°ë¥¼ í‘œì‹œí•˜ì—¬ <span class="b">ì •ë‹µì˜ ê·¼ê±°ë¥¼ ë¶„ì„</span>í•´ë³´ê¸°</p>
  <div class="psg" style="font-size:9pt;line-height:1.5;padding:8px 12px;">{{ grammar_bracket_passage }}</div>
  <p style="padding: 5px;"></p>
  <p class="slbl mt4">STEP 2</p>
  <p style="font-size:8.5pt;margin-bottom:3px;">ê° ë²ˆí˜¸ì— í•´ë‹¹í•˜ëŠ” ë‹µì„ <span class="b">'ì˜ì–´'</span>ë¡œ ì‘ì„±</p>
  <table style="width:100%;border-collapse:separate;border-spacing:3px;font-size:8pt;">
    {% for i in range(0, grammar_bracket_count, 2) %}
    <tr>
      <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:3px 6px;vertical-align:top;">
        <p><span class="grammar-num">({{ i+1 }})</span> <span class="il" style="min-width:70px;"></span></p>
        <p style="color:var(--text-muted);font-size:7.5pt;">í‹€ë¦° ì´ìœ : <span class="il" style="min-width:80px;"></span></p>
        <p style="color:var(--text-muted);font-size:7.5pt;">ë¬¸ë²• ë°”ë¡œì¡ê¸°: <span class="il" style="min-width:80px;"></span></p>
      </td>
      {% if i+1 < grammar_bracket_count %}
      <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:3px 6px;vertical-align:top;">
        <p><span class="grammar-num">({{ i+2 }})</span> <span class="il" style="min-width:70px;"></span></p>
        <p style="color:var(--text-muted);font-size:7.5pt;">í‹€ë¦° ì´ìœ : <span class="il" style="min-width:80px;"></span></p>
        <p style="color:var(--text-muted);font-size:7.5pt;">ë¬¸ë²• ë°”ë¡œì¡ê¸°: <span class="il" style="min-width:80px;"></span></p>
      </td>
      {% else %}<td></td>{% endif %}
    </tr>{% endfor %}
  </table>
  <p style="padding: 5px;"></p>
  <div class="encbox" style="margin-top:4px;padding:6px 10px;">
    <p class="b" style="font-size:9pt;">âš¡ ì–´ë²• ìœ í˜• ì†”ë£¨ì…˜</p>
    <p style="font-size:8pt;">ë¬¸ë²•ì  ì´í•´ ì—†ì´ ë‹¨ìˆœ ì•”ê¸°ë¡œ í‘¸ëŠ” ê±´ ë³€í˜• ì‹œ <span class="b">ë°˜ë“œì‹œ í‹€ë¦½ë‹ˆë‹¤.</span> ëª¨ë¥´ê² ìœ¼ë©´ <span class="b" style="color:var(--red);">ì œë°œ ë¬¼ì–´ë³´ì„¸ìš”.</span></p>
  </div>
  <div class="pn">10</div>
</div>

{# ==================== PAGE 11: Lv.8-2 ==================== #}
<div class="page" style="font-size:10pt;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==8 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle">Lv.8-2 ì–´ë²• ì„œìˆ í˜• (í‹€ë¦° ê³³ ì°¾ì•„ ê³ ì¹˜ê¸°)</div>
  <p style="padding: 5px;"></p>
  <p style="font-size:9.5pt;margin-bottom:6px;">ë‹¤ìŒ ê¸€ì—ì„œ ì–´ë²•ìƒ í‹€ë¦° ë¶€ë¶„ì„ <span class="b">{{ grammar_error_count }}ê³³</span> ì°¾ì•„ ë°”ë¥´ê²Œ ê³ ì¹˜ì‹œì˜¤. <span style="color:var(--red);">(ë°‘ì¤„ ì—†ìŒ!)</span></p>
  <p class="slbl">STEP 1</p>
  <p style="font-size:9.5pt;margin-bottom:4px;">ê¸°ë³¸ì ì¸ ë¬¸ì¥êµ¬ì¡°ë¥¼ í‘œì‹œí•˜ì—¬ <span class="b">ì •ë‹µì˜ ê·¼ê±°</span>ë¥¼ ë¶„ì„í•´ë³´ê¸°</p>
  <div class="psg" style="font-size:10pt;line-height:1.8;">{{ grammar_error_passage }}</div>
  <p style="padding: 5px;"></p>
  <p class="slbl mt8">STEP 2</p>
  <p style="font-size:9.5pt;margin-bottom:4px;"><span class="b">ë‹µì•ˆ ì‘ì„± ë° ì˜¤ë‹µì •ë¦¬</span> (ì˜¬ë°”ë¥¸ í‘œí˜„ìœ¼ë¡œ ê³ ì¹˜ì§€ ëª»í•œ ê²½ìš°ì—ë„ ë¬´ì¡°ê±´ ì˜¤ë‹µì •ë¦¬)</p>
  <table style="width:100%;border-collapse:separate;border-spacing:4px;font-size:9pt;">
    {% for i in range(0, grammar_error_count, 2) %}
    <tr>
      <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:5px 8px;vertical-align:top;">
        <p><span class="grammar-num">({{ i+1 }})</span> <span class="il" style="min-width:60px;border-color:var(--primary);"></span> <span style="color:var(--accent);font-weight:bold;">â†’</span> <span class="il" style="min-width:60px;border-color:var(--accent);"></span></p>
        <p style="color:var(--text-muted);font-size:8.5pt;">í‹€ë¦° ì´ìœ : <span class="il" style="min-width:100px;"></span></p>
        <p style="color:var(--text-muted);font-size:8.5pt;">ë¬¸ë²• ë°”ë¡œì¡ê¸°: <span class="il" style="min-width:100px;"></span></p>
      </td>
      {% if i+1 < grammar_error_count %}
      <td style="width:50%;border:1px solid var(--border-light);border-radius:3px;padding:5px 8px;vertical-align:top;">
        <p><span class="grammar-num">({{ i+2 }})</span> <span class="il" style="min-width:60px;border-color:var(--primary);"></span> <span style="color:var(--accent);font-weight:bold;">â†’</span> <span class="il" style="min-width:60px;border-color:var(--accent);"></span></p>
        <p style="color:var(--text-muted);font-size:8.5pt;">í‹€ë¦° ì´ìœ : <span class="il" style="min-width:100px;"></span></p>
        <p style="color:var(--text-muted);font-size:8.5pt;">ë¬¸ë²• ë°”ë¡œì¡ê¸°: <span class="il" style="min-width:100px;"></span></p>
      </td>
      {% else %}<td></td>{% endif %}
    </tr>{% endfor %}
  </table>
  <p style="padding: 5px;"></p>
  <div class="encbox">
    <p class="b">âš¡ ì–´ë²• ìœ í˜• ì†”ë£¨ì…˜</p>
    <p style="font-size:9pt;">ë¬¸ë²•ì  ì´í•´ ì—†ì´ ë‹¨ìˆœ ì•”ê¸°ë¡œ í‘¸ëŠ” ê±´ ë³€í˜• ì‹œ <span class="b">ë°˜ë“œì‹œ í‹€ë¦½ë‹ˆë‹¤.</span><br>1íšŒë… ë•Œ ë¬¸ë²•ì„ ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì‹œí—˜ ì „ ì •ë¦¬í•  ì‹œê°„ì€ <span class="b">ì ˆëŒ€ ì—†ìŠµë‹ˆë‹¤.</span><br>ëª¨ë¥´ê² ìœ¼ë©´ <span class="b" style="color:var(--red);">ì œë°œ ë¬¼ì–´ë³´ì„¸ìš”.</span> ëª¨ë¥´ëŠ” ì±„ë¡œ ë„˜ì–´ê°€ëŠ” ê²Œ ê°€ì¥ ìœ„í—˜í•©ë‹ˆë‹¤.</p>
  </div>
  <div class="pn">11</div>
</div>

{# ==================== PAGE 12: Lv.8-3 ==================== #}
<div class="page" style="font-size:11pt;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==8 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:15pt;">Lv.8-3 ì–´ë²• ìµœì¢… ì²´í¬</div>
  <p style="padding: 5px;"></p>
  <p style="font-size:9.5pt;margin-bottom:10px;">ê° ë‹¨ì–´ë“¤ì˜ ë¬¸ë²•ì  í‘œí˜„ ì¤‘ ëª…í™•í•œ ì´ìœ ë¥¼ ëª¨ë¥´ëŠ” ë‹¨ì–´ ì•„ë˜ì— <span style="color:var(--red);font-weight:bold;">ë¹¨ê°„ í˜•ê´‘</span> ì¹˜ê¸°. ê·¸ ë°‘ì˜ ì—¬ë°±ì— ì¤‘ìš” ë¬¸ë²•ì„ ì§ì ‘ ì¨ ë³´ì„¸ìš”.</p>
  <div class="psg" style="line-height:2.8;font-size:11pt;">{{ passage }}</div>
  <p style="padding: 5px;"></p>
  <div class="encbox mt12">
    <p class="b">âš¡ ì–´ë²• ìœ í˜• ì†”ë£¨ì…˜</p>
    <p style="font-size:9.5pt;">ë¬¸ë²•ì  ì´í•´ ì—†ì´ ë‹¨ìˆœ ì•”ê¸°ë¡œ í‘¸ëŠ” ê±´ ë³€í˜• ì‹œ <span class="b">ë°˜ë“œì‹œ í‹€ë¦½ë‹ˆë‹¤.</span><br>1íšŒë… ë•Œ ë¬¸ë²•ì„ ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì‹œí—˜ ì „ ì •ë¦¬í•  ì‹œê°„ì€ <span class="b">ì ˆëŒ€ ì—†ìŠµë‹ˆë‹¤.</span><br>ëª¨ë¥´ê² ìœ¼ë©´ <span class="b" style="color:var(--red);">ì œë°œ ë¬¼ì–´ë³´ì„¸ìš”.</span> ëª¨ë¥´ëŠ” ì±„ë¡œ ë„˜ì–´ê°€ëŠ” ê²Œ ê°€ì¥ ìœ„í—˜í•©ë‹ˆë‹¤.</p>
  </div>
  <div class="pn">12</div>
</div>

{% endif %}
{% if not levels or 9 in levels %}
{# ==================== PAGE 13: Lv.9-1 ==================== #}
<div class="page" style="font-size:9.5pt;line-height:1.35;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==9 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:14pt;">Lv.9-1 ì–´íœ˜ ì‹¬í™”</div>
  <p style="padding: 5px;"></p>
  <p class="b mb4" style="font-size:10pt;">Part A. ìˆ˜ëŠ¥ ìˆ˜ì¤€ - ê´„í˜¸ ì† ì˜¬ë°”ë¥¸ ì–´íœ˜ ê³ ë¥´ê¸°</p>
  <div class="psg" style="font-size:9.5pt;line-height:1.6;">{{ vocab_advanced_passage }}</div>
  <table style="width:100%;border-collapse:collapse;font-size:9pt;margin:6px 0;">
  <tr>{% for n in range(1, vocab_parta_answers|length + 1) %}{% if n == 6 %}</tr><tr>{% endif %}<td style="width:20%;padding:2px 4px;">({{ n }})<span class="il" style="min-width:60px;"></span></td>{% endfor %}</tr>
  </table>
  <div style="border-top:2px solid var(--accent);margin-top:6px;padding-top:4px;">
    <p class="b" style="font-size:9pt;color:var(--accent);">Part A ì˜¤ë‹µ - í‹€ë¦° ë‹¨ì–´ ë‹¤ì‹œ ì •ë¦¬</p>
    <table style="width:100%;border-collapse:separate;border-spacing:3px;font-size:8pt;">
      <tr>{% for _ in range(2) %}<td style="width:50%;border:1px solid var(--border-light);border-radius:2px;padding:2px 6px;">ë‹¨ì–´: <span class="il" style="min-width:50px;height:13px;"></span> &nbsp; ëœ»: <span class="il" style="min-width:70px;height:13px;"></span></td>{% endfor %}</tr>
      <tr>{% for _ in range(2) %}<td style="border:1px solid var(--border-light);border-radius:2px;padding:2px 6px;">ë‹¨ì–´: <span class="il" style="min-width:50px;height:13px;"></span> &nbsp; ëœ»: <span class="il" style="min-width:70px;height:13px;"></span></td>{% endfor %}</tr>
      <tr>{% for _ in range(2) %}<td style="border:1px solid var(--border-light);border-radius:2px;padding:2px 6px;">ë‹¨ì–´: <span class="il" style="min-width:50px;height:13px;"></span> &nbsp; ëœ»: <span class="il" style="min-width:70px;height:13px;"></span></td>{% endfor %}</tr>
    </table>
  </div>
  <p style="padding: 5px;"></p>
  <p class="b mt8 mb4" style="font-size:10pt;">Part B. ìµœìƒìœ„ - ì˜¬ë°”ë¥¸ ë™ì˜ì–´ì— O í‘œì‹œ (ëª¨ë‘ ê³ ë¥´ì‹œì˜¤)</p>
  {% for item in vocab_partb %}
  <p style="font-size:9.5pt;margin-bottom:4px;">{{ loop.index }}. <strong>{{ item.word }}</strong>: &nbsp; {{ item.choices }}</p>{% endfor %}
  <div style="border-top:2px solid var(--accent);margin-top:8px;padding-top:4px;">
    <p class="b" style="font-size:9pt;color:var(--accent);">Part B ì˜¤ë‹µ - í‹€ë¦° ë‹¨ì–´ ë‹¤ì‹œ ì •ë¦¬</p>
    <table style="width:100%;border-collapse:separate;border-spacing:3px;font-size:8pt;">
      <tr>{% for _ in range(2) %}<td style="width:50%;border:1px solid var(--border-light);border-radius:2px;padding:2px 6px;">ë‹¨ì–´: <span class="il" style="min-width:50px;height:13px;"></span> &nbsp; ëœ»: <span class="il" style="min-width:70px;height:13px;"></span></td>{% endfor %}</tr>
      <tr>{% for _ in range(2) %}<td style="border:1px solid var(--border-light);border-radius:2px;padding:2px 6px;">ë‹¨ì–´: <span class="il" style="min-width:50px;height:13px;"></span> &nbsp; ëœ»: <span class="il" style="min-width:70px;height:13px;"></span></td>{% endfor %}</tr>
      <tr>{% for _ in range(2) %}<td style="border:1px solid var(--border-light);border-radius:2px;padding:2px 6px;">ë‹¨ì–´: <span class="il" style="min-width:50px;height:13px;"></span> &nbsp; ëœ»: <span class="il" style="min-width:70px;height:13px;"></span></td>{% endfor %}</tr>
    </table>
    <p style="padding: 5px;"></p>
    <div class="encbox mt12">
      <p class="b">âš¡ ì–´íœ˜ ìœ í˜• ì†”ë£¨ì…˜ ì¶”ê°€</p>
      <p style="font-size:9.5pt;">â€¢ step1: ì›ë¬¸ì— ì“°ì¸ ë‹¨ì–´ <strong>í™•ì¸</strong>.</span><br>â€¢ step2: ì›ë­”ê³¼ ë³€í˜•ë˜ì–´ ì¶œì œë˜ì—ˆëŠ”ì§€ <strong>í™•ì¸</strong>.</p>
    </div>
  </div>
  <div class="pn">13</div>
</div>

{# ==================== PAGE 14: Lv.9-2 ==================== #}
<div class="page" style="font-size:8.5pt;line-height:1.2;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==9 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:12pt;">Lv.9-2 ë‚´ìš© ì¼ì¹˜ (í•œêµ­ì–´ + ì˜ì–´ - ëª¨ë‘ ê³ ë¥´ì‹œì˜¤)</div>
  <p style="padding: 5px;"></p> 
  <p class="slbl">STEP 1</p>
  <p style="font-size:8pt;margin-bottom:2px;">ì§€ë¬¸ êµ¬ì¡° íŒŒì•… ë° ì •í™•í•œ í•´ì„ (ì˜ì–´ì§€ë¬¸ ìœ„ì— ì§ì ‘ í‘œì‹œ)</p>
  <div class="psg" style="font-size:8.5pt;line-height:1.45;padding:6px 8px;">{{ passage }}</div>
  <p style="padding: 5px;"></p>
  <p class="slbl mt4">STEP 2</p>
  <p style="font-size:8pt;margin-bottom:2px;">ë³¸ë¬¸ì˜ ë¬¸ì¥ê³¼ ì„ ì§€ë¥¼ ì—°ê²°í•˜ì—¬ ì •ë‹µ ì°¾ê¸°</p>
  <p style="padding: 1.5px;"></p>
  <table style="width:100%;border-collapse:collapse;font-size:8pt;">
    <tr style="vertical-align:top;">
      <td style="width:50%;padding-right:8px;">
        <p class="b" style="font-size:8.5pt;color:var(--accent);margin-bottom:2px;">Part A. í•œêµ­ì–´ - ì¼ì¹˜í•˜ëŠ” ê²ƒ ëª¨ë‘</p>
        {% for s in content_match_kr %}<p style="margin-bottom:1px;">{{ s }}</p>{% endfor %}
      </td>
      <td style="width:50%;">
        <p class="b" style="font-size:8.5pt;color:var(--accent);margin-bottom:2px;">Part B. English - Select ALL true</p>
        {% for s in content_match_en %}<p style="margin-bottom:1px;">{{ s }}</p>{% endfor %}
      </td>
    </tr>
  </table>
  <table style="width: 100%;border-collapse: collapse;">
    <tr>
      <td class="mt3" style="font-size:8.5pt;width: 50%;">
        Part A ë‹µ: <span class="il" style="min-width:140px;"></span>
      </td>
      <td class="mt3" style="font-size:8.5pt;width: 50%;">
        Part B ë‹µ: <span class="il" style="min-width:140px;"></span>
      </td>
    </tr>
  </table>
  <p style="padding: 5px;"></p>
  <p class="slbl mt4">STEP 3</p>
  <p style="font-size:8pt;margin-bottom:2px;"><span class="b">ì˜¤ë‹µì •ë¦¬</span></p>
  <table style="width:100%;border-collapse:collapse;font-size:8pt;">
    <tr style="vertical-align:top;">
      <td style="width:50%;padding-right:6px;">{% for _ in range(4) %}<p style="margin-bottom:2px;">( &nbsp; ) <span class="il" style="min-width:130px;"></span></p>{% endfor %}</td>
      <td style="width:50%;">{% for _ in range(4) %}<p style="margin-bottom:2px;">( &nbsp; ) <span class="il" style="min-width:130px;"></span></p>{% endfor %}</td>
    </tr>
  </table>
  <p style="padding: 5px;"></p>
  <div class="solbox mt3" style="padding:4px 8px;">
    <p class="b" style="font-size:8pt;">[ë‚´ìš©ì¼ì¹˜ ì†”ë£¨ì…˜]</p>
    <p style="font-size:7.5pt;"><span class="b">ìš°ë¦¬ë§ ì˜¤ë‹µ</span> = í•´ì„ ë¬¸ì œ â†’ Lv.1~4ë¡œ. <span class="b">ì˜ì–´ ì˜¤ë‹µ</span> = ì–´íœ˜ ë¬¸ì œ â†’ ë‹¨ì–´ ì •ë¦¬ í•„ìˆ˜.</p>
  </div>
  <div class="pn">14</div>
</div>

{% endif %}
{% if not levels or 10 in levels %}
{# ==================== PAGE 15: Lv.10 ==================== #}
<div class="page" style="font-size:8.5pt;line-height:1.2;">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span class="hdr-right">{{ lesson_num }}ê³¼ - {{ challenge_title }}</span></div>
  <div class="phase" style="color:var(--accent);">ìˆ˜ì—… í›„</div>
  <div class="lnav">{% for i in range(1,11) %}<span class="lb{% if i==10 %} on{% endif %}">{{ i }}</span>{% endfor %}</div>
  <div class="stitle" style="font-size:13pt;">Lv.10 ì˜ì‘ (ë‹¨ì–´ ë°°ì—´)</div>
  <p style="font-size:8.5pt;margin-bottom:2px;">ë‹¤ìŒ ìš°ë¦¬ë§ê³¼ ì¼ì¹˜í•˜ë„ë¡ ì£¼ì–´ì§„ ë‹¨ì–´ë¥¼ ì˜¬ë°”ë¥´ê²Œ ë°°ì—´í•˜ì‹œì˜¤.</p>
  <p style="padding: 5px;"></p>
  <p class="slbl">STEP 1</p>
  <p style="font-size:8pt;margin-bottom:4px;"><span class="b">ìš°ë¦¬ë§ì— êµ¬ì¡° ë¶„ì„</span>(S/V/O ì²´í¬) â†’ ì˜ì–´ ì–´ìˆœìœ¼ë¡œ ì‘ì„±</p>
  {% for item in writing_items %}
  <div style="margin-bottom:5px;">
    <p style="font-weight:bold;font-size:8.5pt;">{{ loop.index }}. {{ item.korean }}</p>
    <div style="background:#f3f4f6;border:1px solid var(--border-light);border-radius:3px;padding:3px 6px;font-size:8pt;margin:2px 0;line-height:1.4;">{{ item.scrambled }}</div>
    <div class="ilf" style="height:14px;"></div>
  </div>{% endfor %}
  <p style="padding: 5px;"></p>
  <p class="slbl mt4">STEP 2</p>
  <p style="font-size:8.5pt;font-weight:bold;margin-bottom:3px;">ì˜ì‘ ì˜¤ë‹µ ì •ë¦¬</p>
  {% for _ in range(3) %}
  <div style="margin-bottom:3px;font-size:8pt;">
    <p>í‹€ë¦° ë²ˆí˜¸ ( &nbsp; ) / ì˜¤ë‹µ ì´ìœ : <span class="il" style="min-width:160px;height:12px;"></span></p>
    <p>ë‹¤ì‹œ ì“°ê¸°: <span class="ilf" style="height:12px;"></span></p>
  </div>{% endfor %}
  <p style="padding: 5px;"></p>
  <div class="solbox" style="padding:4px 8px;">
    <p class="b" style="font-size:8.5pt;">[ì˜ì‘ ì†”ë£¨ì…˜]</p>
    <p style="font-size:8pt;">(1) ìš°ë¦¬ë§ êµ¬ì¡° ë¶„ì„(S/V/O) â†’ (2) ì˜ì–´ ì–´ìˆœìœ¼ë¡œ ì¨ë³´ê¸° â†’ (3) ë°˜ë³µ! <span class="b" style="color:var(--red);">ì¨ë´ë¼. ì§€ê¸ˆ ë‹¹ì¥.</span></p>
  </div>
  <div class="pn">15</div>
</div>

{% endif %}
{% if not levels or 0 in levels %}
{# ==================== PAGE 16: ì •ë‹µ ==================== #}
<div class="page">
  <div class="hdr"><span class="hdr-left">ë ˆë²¨ë¯¸ì—…í•™ì›</span><span>ì •ë‹µ ë° í•´ì„¤</span></div>
  <div style="text-align:center;font-size:15pt;font-weight:bold;margin:6px 0;padding-bottom:6px;border-bottom:2px solid var(--primary);">ì •ë‹µ ë° í•´ì„¤</div>
  <div class="apage">{{ answers_html }}</div>
  <div class="pn">16</div>
</div>

{% endif %}
</body>
</html>
